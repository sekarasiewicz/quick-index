:80 {
	# Serve static files from the React app
	root * /usr/share/caddy/html
	file_server
	try_files {path} /index.html

	# API proxy
	handle /api/* {
		reverse_proxy backend:8000 {
			header_up Host {host}
			header_up X-Real-IP {remote}
			header_up X-Forwarded-For {remote}
			header_up X-Forwarded-Proto {scheme}
		}
	}

	# Health check
	handle /health {
		reverse_proxy backend:8000 {
			header_up Host {host}
			header_up X-Real-IP {remote}
			header_up X-Forwarded-For {remote}
			header_up X-Forwarded-Proto {scheme}
		}
	}
} 